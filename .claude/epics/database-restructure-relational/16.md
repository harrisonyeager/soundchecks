---
name: Data Migration Script
status: open
created: 2025-09-05T10:36:01Z
updated: 2025-09-05T18:04:26Z
github: https://github.com/harrisonyeager/soundchecks/issues/16
depends_on: [13, 14]
parallel: false
conflicts_with: []
---

# Task: Data Migration Script

## Description
Create script to extract and deduplicate entities from existing ConcertLog data. Process all historical concert logs to create Artist, Venue, and Concert entities with proper relationships.

## Acceptance Criteria
- [ ] Script extracts unique artists from existing data
- [ ] Script extracts unique venues with city information
- [ ] Creates Concert entities from unique combinations
- [ ] Links existing ConcertLogs to new Concert entities
- [ ] Handles duplicates using matching service
- [ ] Progress reporting for long-running migration
- [ ] Dry-run mode for testing
- [ ] Rollback capability

## Technical Details
- Create scripts/migrate-entities.ts
- Use batching to handle large datasets
- Transaction support for data integrity
- Log duplicate resolutions for audit
- Test on copy of production data
- Estimate: ~1000 concerts to process

## Dependencies
- [ ] Database schema migrated
- [ ] Entity matcher service available
- [ ] Test data prepared

## Effort Estimate
- Size: L
- Hours: 8-10
- Parallel: false

## Definition of Done
- [ ] Migration script complete
- [ ] Tested on sample data
- [ ] Performance acceptable (<30 min)
- [ ] Rollback tested
- [ ] Documentation written
- [ ] Code reviewed
